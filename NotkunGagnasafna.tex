\documentclass[nohyper, notoc, justified, openany]{tufte-book} 

\usepackage[utf8]{inputenc}
\usepackage[icelandic]{babel}
\usepackage[T1]{fontenc}
\usepackage{amsfonts, amssymb, amsthm, amsmath}
\usepackage{microtype}

\usepackage{tikz}
\usepackage{booktabs}
\usepackage{minted}
\usepackage{listings}
\usepackage{color}
\usepackage{chngcntr}

\usepackage{hyperref}
% PDF-upplýsingar
\hypersetup{colorlinks=true,pdfauthor={Eirikur Ernir Thorsteinsson},pdftitle={SQL},linkcolor=blue,urlcolor=blue}

% Orðaskiptingar
\hyphenpenalty=1000
\hyphenation{Tungu-mál gagna-grunnur gagna-grunna SQL-gagna-grunna gagnagrunns-kerfi}

% Endurnúmerun á myndum, svo teljarinn endurræsist í hverjum kafla
\counterwithin{figure}{chapter}

% Endurskilgreining á inndrætti
% Uppruni: http://tex.stackexchange.com/questions/77999/remove-indent-of-paragraph-and-add-line-skip-with-tufte-latex
\makeatletter
\renewcommand{\@tufte@reset@par}{%
  \setlength{\RaggedRightParindent}{0pt}%
  \setlength{\JustifyingParindent}{0pt}%
  \setlength{\parindent}{0pt}%
  \setlength{\parskip}{0.4\baselineskip}%
}
\@tufte@reset@par

\renewcommand{\@tufte@margin@par}{%
  \setlength{\RaggedRightParindent}{0pt}%
  \setlength{\JustifyingParindent}{0pt}%
  \setlength{\parindent}{0pt}%
  \setlength{\parskip}{0.3\baselineskip}%
}
\makeatother

% Skilgreining ``example'' flotumhverfisins og listans
% Uppruni: http://tex.stackexchange.com/questions/113631/caption-placement-for-new-float-in-tufte-book-class
\newcounter{example}[chapter]
\newcommand\examplename{Sýnidæmi}
\newcommand\listexamplename{Sýnidæmaskrá}
\makeatletter
\newcommand\listofexamples{%
  \ifthenelse{\equal{\@tufte@class}{book}}%
    {\chapter*{\listexamplename}}%
    {\section*{\listexamplename}}%
%  \begin{fullwidth}%
    \@starttoc{loe}%
%  \end{fullwidth}%
}
\renewcommand\theexample
     {\ifnum \c@chapter>\z@ \thechapter.\fi \@arabic\c@example}
\def\fps@example{tbp}
\def\ftype@example{1}
\def\ext@example{loe}
\def\fnum@example{\examplename\nobreakspace\theexample}
\newenvironment{example}[1][htbp]
  {\begin{@tufte@float}[#1]{example}{}}
  {\end{@tufte@float}}
\let\l@example\l@figure
\makeatother

\newcommand{\sql}[1]{\inputminted[frame=lines, fontfamily=courier]{sql}{#1}}

\author{Eiríkur Ernir Þorsteinsson}
\title{Notkun gagnasafna - námsefni}
\publisher{Tækniskólinn}
\date{}

\begin{document}

\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{1}

\maketitle

\tableofcontents
\listoffigures
\listoftables
\listofexamples

\newpage

\chapter{Inngangur}
\label{kafli:inngangur}
\input{Kafli1.tex}

\chapter{Fyrstu skrefin í SQL}
\label{kafli:fyrstuskrefin}
\input{Kafli2.tex}

\chapter{Uppsetning taflna}
\label{kafli:uppsetningtaflna}
\input{Kafli3.tex}

\chapter{Fyrirspurnir}
\label{kafli:select}
\input{Kafli4.tex}

\chapter{Að setja upp gagnagrunn}
\label{kafli:uppsetninggagnagrunns}
\input{Kafli5.tex}

\chapter{Gagnavinnsla með mörgum töflum}
\label{kafli:gagnavinnslamargartoflur}
\input{Kafli6.tex}

\chapter{Að uppfæra gagnagrunna}
\label{kafli:uppfaera}
\input{Kafli7.tex}

\chapter{Ítarefni}
\label{kafli:itarefni}
\input{Kafli8.tex}

\chapter{Um þessa bók}
\label{kafli:um-bokina}
\input{Kafli9.tex}
\end{document}